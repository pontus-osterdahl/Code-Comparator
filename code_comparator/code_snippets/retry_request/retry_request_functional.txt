
String urlStr = "https://www.google.se";

int numberOfRetries = 5;

BiFunction<Integer, String,Boolean> func = (i,a) ->
{
  while(i > 0)
  {
    Try<Void> urlConn = Try.run(() -> new URL(a).openConnection().connect())
      .onFailure(e -> {System.out.println("Retrying");});

    if(!urlConn.isFailure())
    {
      System.out.println(a + " was requested successfully");

      return true;
    }

    --i;
  }

  System.out.println("Could not establish connection");

  return false;	
};

func.apply(numberOfRetries,urlStr);
